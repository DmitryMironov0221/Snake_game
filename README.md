# Игра Змейка #
Эта игра змейка написана на языке Java с использованием графической библиотеки Swing. В игре пользователь управляет змеей, которая перемещается по полю и собирает яблоки, увеличивая свой размер. Цель игры - собрать как можно больше яблок и не столкнуться со стеной или своим хвостом.

## Структура игры (/source) ##
1. [Основа.](#класс-main)
2. [Начальная панель.](#класс-home_panel)
3. [Логика игры.](#класс-game)
4. [Блок управления.](#класс-controller)
5. [Панель паузы.](#класс-pause_panel)
6. [Панель завершения игры.](#класс-game_over_panel)
7. [Ресурсы.](#класс-resources)
8. [Направление.](#класс-direction)

## <a name="Main"></a>Класс Main ##
Класс Main является главным классом приложения и наследует класс JFrame, что позволяет создать окно приложения. Он содержит методы и переменные, которые управляют поведением и отображением игры "Змейка".

+ В конструкторе Main() происходит инициализация окна приложения. Здесь задаются настройки окна, такие как заголовок, размер, полноэкранный режим, цвет фона и другие. Также создается экземпляр класса Home_panel и добавляется на окно.

+ Метод startGame() запускает игру. Он создает экземпляр класса Game и добавляет его на окно, удаляя при этом начальную панель. Затем метод фокусирует игру, обновляет компоновку окна и перерисовывает его.

+ Методы pause_start(), pause_exit(), game_over_start() и game_over_exit() отвечают за управление панелями паузы и оконом завершения игры. Они создают соответствующие панели, изменяют видимость игровой панели и счетчика, добавляют или удаляют панели на окне, обновляют счет и фокусируют игру.

+ Метод update_score(int score) обновляет текстовую метку (JLabel), отображающую текущий счет игры. Он вызывается каждый раз, когда счет игры изменяется.

+ Метод main(String[] args) запускает приложение, создавая новый экземпляр класса Main.

## <a name="Home_Panel"></a>Класс Home_Panel ##
Класс Home_panel является панелью, которая отображает главное меню игры. Он наследуется от класса JPanel, что позволяет создать пользовательскую панель.

+ В конструкторе Home_panel() происходит инициализация панели. Здесь устанавливаются размеры панели, отключается менеджер компоновки и делается фокусируемой.

+ Создаются и настраиваются кнопки play и exit, которые добавляются на панель. Также устанавливаются границы и отключается эффект подсветки при наведении на кнопки.

+ Добавляются обработчики событий для кнопок. Обработчик для кнопки play запускает игру при нажатии, а для кнопки exit завершает выполнение программы при нажатии.

+ Метод getPlayButton() возвращает объект кнопки play, чтобы другие классы могли получить к ней доступ.

+ Переопределяется метод paintComponent(Graphics g), который отрисовывает компоненты панели. В данном случае, он отрисовывает фоновое изображение, а также рисует текст "Welcome to the snake!" в центре панели.

## <a name="Game"></a>Класс Game ##
Класс Game является основным игровым компонентом, который отображает игровое поле, змейку, яблоки и обрабатывает игровую логику.

+ Класс Game наследуется от класса JPanel, что позволяет создать пользовательскую панель.
Реализуется интерфейс ActionListener, чтобы обрабатывать события таймера игры.
Конструктор Game(Main main) принимает экземпляр класса Main в качестве параметра. В нем происходит инициализация игрового поля. Задаются размеры и расположение панели, устанавливается менеджер компоновки, добавляется обработчик событий нажатия клавиш, и панель делается фокусируемой. Затем вызывается метод start() для начала игры.

+ Метод start() инициализирует игровые параметры. Устанавливается флаг game в значение true, счетчик score в значение 0. Создается и инициализируется список snake, содержащий координаты сегментов змейки. Затем вызывается метод newApple() для размещения яблока на поле. Создается и запускается таймер с интервалом 90 миллисекунд.

+ Метод newApple() размещает новое яблоко на игровом поле. Он генерирует случайные координаты для яблока, проверяет, что они не совпадают ни с одним из уже существующих яблок, и не совпадают с координатами сегментов змейки. Если условия выполняются, яблоко добавляется в список apples.

+ Метод snake_move() отвечает за движение змейки. Он получает текущую голову змейки и определяет новые координаты головы в зависимости от текущего направления движения. Если новая голова выходит за границы игрового поля или врезается в себя, игра заканчивается. Если новая голова попадает на яблоко, счетчик score увеличивается, яблоко удаляется, и вызывается метод update_score() из класса Main для обновления отображения счета. Если нет яблока, удаляется сегмент змейки.

+ Метод setDirection(Direction direction) устанавливает новое направление движения змейки. Если игра уже закончена, изменение направления запрещено. Также запрещается изменять направление на противоположное текущему.

+ Метод paintComponent(Graphics g) переопределяет метод рисования компонента. Он отрисовывает игровое поле, используя цветовую схему. Затем отрисовывает змейку и яблоки. Если игра окончена, вызывается метод game_over_start() из класса Main для обработки завершения игры.

+ Метод actionPerformed(ActionEvent e) вызывается при каждом срабатывании таймера. Он вызывает метод snake_move() для движения змейки и перерисовывает игровое поле.

## <a name="Controller"></a>Класс Controller ##
Класс Controller реализует интерфейс KeyListener и отвечает за обработку событий нажатия клавиш.

+ Конструктор Controller(Game game, Main main) принимает экземпляры классов Game и Main в качестве параметров и сохраняет их в соответствующих полях.

+ Метод keyPressed(KeyEvent e) вызывается при нажатии клавиши. Внутри метода происходит обработка событий нажатия клавиш. Если игровой таймер запущен, то в зависимости от нажатой клавиши устанавливается соответствующее направление движения змейки с помощью метода game.setDirection(Direction direction).  
+ Константы KeyEvent.VK_W, KeyEvent.VK_S, KeyEvent.VK_A и KeyEvent.VK_D представляют клавиши W, S, A и D соответственно, которые управляют направлением движения змейки. Клавиша ESCAPE используется для паузы игры. Если игра находится в активном состоянии, то при нажатии клавиши ESCAPE таймер игры останавливается, и вызывается метод main.pause_start() из класса Main для обработки паузы. Если игра находится в состоянии паузы, то при нажатии клавиши ESCAPE вызывается метод main.pause_exit() для выхода из паузы, и таймер игры запускается снова.

+ Методы keyTyped(KeyEvent e) и keyReleased(KeyEvent e) не реализованы, так как они не используются в данном контексте.

## <a name="Pause_panel"></a>Класс Pause_panel ##
Класс Pause_panel расширяет класс JPanel и отвечает за отображение панели паузы в игре.

+ Конструктор Pause_panel(Game game, Main main) принимает экземпляры классов Game и Main в качестве параметров и сохраняет их в соответствующих полях. Затем устанавливается размер и расположение панели с помощью метода setBounds(). Далее устанавливается менеджер компоновки на null с помощью метода setLayout(null) и устанавливается фокус на панель с помощью метода setFocusable(true).

+ Затем создаются три кнопки countinue, restart и exit, и им устанавливаются иконки и границы. Кнопки добавляются на панель с помощью метода add().

+ Далее устанавливаются обработчики событий для кнопок. Для кнопки countinue устанавливается слушатель ActionListener, который при нажатии кнопки вызывает метод main.pause_exit() из класса Main для выхода из режима паузы, а также запускает таймер игры с помощью game.timer.start(). Также для кнопки countinue устанавливаются слушатели MouseListener, которые меняют иконку кнопки при наведении и уходе курсора с кнопки.

+ Аналогично для кнопки restart устанавливаются слушатели ActionListener и MouseListener, которые вызывают метод main.startGame() для перезапуска игры и метод main.pause_exit() для выхода из режима паузы.

+ Для кнопки exit устанавливаются слушатели ActionListener и MouseListener, которые при нажатии на кнопку вызывают метод System.exit(0) для завершения программы, а также меняют иконку кнопки при наведении и уходе курсора с кнопки.

+ Метод paintComponent(Graphics g) переопределяется для отрисовки графического контента панели паузы. Внутри метода сначала вызывается метод super.paintComponent(g) для настройки графического контекста. Затем отрисовывается фоновое изображение с помощью метода g.drawImage(). Затем выводится текст "Snake menu" с помощью методов g.setColor(), g.setFont() и g.drawString(), чтобы показать пользователю, что это меню паузы.

## <a name="Pause_panel"></a>Класс Game_over_panel ##
Класс Game_over_panel расширяет класс JPanel и отвечает за отображение панели с информацией о завершении игры.

+ Конструктор Game_over_panel(Game game, Main main) принимает экземпляры классов Game и Main в качестве параметров и сохраняет их в соответствующих полях. Затем устанавливается размер и расположение панели с помощью метода setBounds(). Далее устанавливается менеджер компоновки на null с помощью метода setLayout(null) и устанавливается фокус на панель с помощью метода setFocusable(true).

+ Затем создаются две кнопки restart и exit, и им устанавливаются иконки и границы. Кнопки добавляются на панель с помощью метода add().

+ Далее устанавливаются обработчики событий для кнопок. Для кнопки restart устанавливается слушатель ActionListener, который при нажатии кнопки вызывает метод main.startGame() из класса Main для перезапуска игры, а также вызывает метод main.game_over_exit() для выхода из режима завершения игры.

+ Для кнопки exit устанавливаются слушатели ActionListener и MouseListener, которые при нажатии на кнопку вызывают метод System.exit(0) для завершения программы, а также меняют иконку кнопки при наведении и уходе курсора с кнопки.

+ Метод paintComponent(Graphics g) переопределяется для отрисовки графического контента панели завершения игры. Внутри метода сначала вызывается метод super.paintComponent(g) для настройки графического контекста. Затем отрисовывается фоновое изображение с помощью метода g.drawImage(). Затем выводится текст "Game over! Score: " с текущим счетом игры с помощью методов g.setColor(), g.setFont() и g.drawString(), чтобы показать пользователю информацию о завершении игры и его счете.

## <a name="Resources"></a>Класс Resources ##
Класс Resources содержит статические поля, которые представляют собой ресурсы, используемые в игре, такие как шрифты, изображения и иконки. Эти ресурсы загружаются при инициализации класса с помощью блока static.

+ FONT_FIRST и FONT_SECOND: объекты класса Font, представляющие два шрифта, используемых в игре. Они загружаются из файлов шрифтов "digital-7.ttf" и "orbitron-light.otf" соответственно.

+ APPLE_IMAGE: объект класса BufferedImage, представляющий изображение яблока в игре. Изображение загружается из файла "apple.png".

+ BACKROUND: объект класса BufferedImage, представляющий фоновое изображение игры. Изображение загружается из файла "backround.jpg".

+ ICON_PLAY, ICON_PLAY_DIRECT, ICON_EXIT, ICON_EXIT_DIRECT, ICON_CONTINUE, ICON_CONTINUE_DIRECT, ICON_RESTART, ICON_RESTART_DIRECT: объекты класса ImageIcon, представляющие иконки, используемые в игре. Иконки загружаются из соответствующих файлов изображений.

Загрузка ресурсов происходит в статическом блоке инициализации класса static {...}. В блоке try-catch происходит загрузка шрифтов и изображений с помощью методов Font.createFont() и ImageIO.read(). Если возникают исключения FontFormatException или IOException, они обрабатываются и выбрасывается RuntimeException.

Эти статические ресурсы могут быть использованы в других классах игры для отображения и работы с графическими элементами, такими как текст, изображения и иконки.

## <a name="Direction"></a>Класс Direction ##
Класс Direction представляет перечисление (enum) возможных направлений движения в игре. В данном случае, перечисление определяет четыре возможных направления: UP (вверх), RIGHT (вправо), DOWN (вниз) и LEFT (влево).

Использование Direction обеспечивает ясность и надежность в коде, так как оно ограничивает выбор направления только четырьмя допустимыми вариантами и исключает возможность опечаток или неправильных значений направления.